{"ast":null,"code":"var _jsxFileName = \"/Users/vaibhavreddy/Desktop/projects/ai-learning-hub/frontend/src/pages/AIChat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Container, Paper, TextField, Button, Box, Typography, CircularProgress, Alert } from '@mui/material';\nimport { Send as SendIcon } from '@mui/icons-material';\nimport axios from '../utils/axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Message = ({\n  content,\n  isUser\n}) => /*#__PURE__*/_jsxDEV(Box, {\n  sx: {\n    display: 'flex',\n    justifyContent: isUser ? 'flex-end' : 'flex-start',\n    mb: 2\n  },\n  children: /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 1,\n    sx: {\n      p: 2,\n      maxWidth: '70%',\n      backgroundColor: isUser ? 'primary.main' : 'grey.100',\n      color: isUser ? 'white' : 'text.primary'\n    },\n    children: /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 3\n}, this);\n_c = Message;\nconst AIChat = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    const userMessage = input.trim();\n    setInput('');\n    setMessages(prev => [...prev, {\n      content: userMessage,\n      isUser: true\n    }]);\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.post('/api/chat', {\n        message: userMessage\n      });\n      setMessages(prev => [...prev, {\n        content: response.data.reply,\n        isUser: false\n      }]);\n    } catch (err) {\n      setError('Failed to get response from AI. Please try again.');\n      console.error('Chat error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        height: '70vh',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2,\n          borderBottom: 1,\n          borderColor: 'divider'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h1\",\n          children: \"AI Chat Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1,\n          overflow: 'auto',\n          p: 2,\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            mb: 2\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), messages.map((message, index) => /*#__PURE__*/_jsxDEV(Message, {\n          content: message.content,\n          isUser: message.isUser\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)), loading && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'flex-start',\n            mb: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: handleSubmit,\n        sx: {\n          p: 2,\n          borderTop: 1,\n          borderColor: 'divider',\n          display: 'flex',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          placeholder: \"Type your message...\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          disabled: loading || !input.trim(),\n          endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 22\n          }, this),\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(AIChat, \"hlFvXuN5dd6rEwMoj/2TKKgkzYE=\");\n_c2 = AIChat;\nexport default AIChat;\nvar _c, _c2;\n$RefreshReg$(_c, \"Message\");\n$RefreshReg$(_c2, \"AIChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Container","Paper","TextField","Button","Box","Typography","CircularProgress","Alert","Send","SendIcon","axios","jsxDEV","_jsxDEV","Message","content","isUser","sx","display","justifyContent","mb","children","elevation","p","maxWidth","backgroundColor","color","variant","fileName","_jsxFileName","lineNumber","columnNumber","_c","AIChat","_s","messages","setMessages","input","setInput","loading","setLoading","error","setError","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSubmit","e","preventDefault","trim","userMessage","prev","response","post","message","data","reply","err","console","mt","height","flexDirection","borderBottom","borderColor","component","flexGrow","overflow","severity","map","index","size","ref","onSubmit","borderTop","gap","fullWidth","placeholder","value","onChange","target","disabled","type","endIcon","_c2","$RefreshReg$"],"sources":["/Users/vaibhavreddy/Desktop/projects/ai-learning-hub/frontend/src/pages/AIChat.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  Container,\n  Paper,\n  TextField,\n  Button,\n  Box,\n  Typography,\n  CircularProgress,\n  Alert,\n} from '@mui/material';\nimport { Send as SendIcon } from '@mui/icons-material';\nimport axios from '../utils/axios';\n\nconst Message = ({ content, isUser }) => (\n  <Box\n    sx={{\n      display: 'flex',\n      justifyContent: isUser ? 'flex-end' : 'flex-start',\n      mb: 2,\n    }}\n  >\n    <Paper\n      elevation={1}\n      sx={{\n        p: 2,\n        maxWidth: '70%',\n        backgroundColor: isUser ? 'primary.main' : 'grey.100',\n        color: isUser ? 'white' : 'text.primary',\n      }}\n    >\n      <Typography variant=\"body1\">{content}</Typography>\n    </Paper>\n  </Box>\n);\n\nconst AIChat = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n\n    const userMessage = input.trim();\n    setInput('');\n    setMessages(prev => [...prev, { content: userMessage, isUser: true }]);\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await axios.post('/api/chat', {\n        message: userMessage,\n      });\n\n      setMessages(prev => [...prev, { content: response.data.reply, isUser: false }]);\n    } catch (err) {\n      setError('Failed to get response from AI. Please try again.');\n      console.error('Chat error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\n      <Paper elevation={3} sx={{ height: '70vh', display: 'flex', flexDirection: 'column' }}>\n        <Box sx={{ p: 2, borderBottom: 1, borderColor: 'divider' }}>\n          <Typography variant=\"h5\" component=\"h1\">\n            AI Chat Assistant\n          </Typography>\n        </Box>\n\n        <Box\n          sx={{\n            flexGrow: 1,\n            overflow: 'auto',\n            p: 2,\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n        >\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\n              {error}\n            </Alert>\n          )}\n\n          {messages.map((message, index) => (\n            <Message key={index} content={message.content} isUser={message.isUser} />\n          ))}\n          {loading && (\n            <Box sx={{ display: 'flex', justifyContent: 'flex-start', mb: 2 }}>\n              <CircularProgress size={20} />\n            </Box>\n          )}\n          <div ref={messagesEndRef} />\n        </Box>\n\n        <Box\n          component=\"form\"\n          onSubmit={handleSubmit}\n          sx={{\n            p: 2,\n            borderTop: 1,\n            borderColor: 'divider',\n            display: 'flex',\n            gap: 1,\n          }}\n        >\n          <TextField\n            fullWidth\n            variant=\"outlined\"\n            placeholder=\"Type your message...\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            disabled={loading}\n          />\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={loading || !input.trim()}\n            endIcon={<SendIcon />}\n          >\n            Send\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default AIChat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}